mc.IngredientBox={oninit:function(e){var t=this;t.ingredient=e.attrs.ingredient,delete e.attrs.ingredient,t.imgPath="data/ingredients/"+t.ingredient.nom+".md.jpg",t.texteNombreDeRecette=m.trust(i18n.n("nombreRecettePourIngredient",t.ingredient.recettes.length))},view:function(e){var t=this;return m("div.ingredient-box.box",e.attrs,[m(mc.NomDecore,{nom:t.ingredient.nomTraduit}),m("img",{src:t.imgPath}),m("span.nombre-recettes",t.texteNombreDeRecette)])}},mc.IngredientLink={oninit:function(){var e=this;e.mouseover=!1,e.boxElement=null,e.onMouseEnter=function(t){e.mouseover=!0,e.updateIngredientBox(t.target)},e.onMouseLeave=function(t){e.mouseover=!1},e.updateIngredientBox=function(t){if(e.boxElement&&e.mouseover){var n=e.boxElement.offsetWidth,o=(e.boxElement.offsetHeight,t.offsetTop);e.boxElement.style.left=t.offsetWidth/2-n/2+"px",e.boxElement.style.display="absolute",o<100?(e.boxElement.style.top="100%",e.boxElement.style.bottom=""):(e.boxElement.style.bottom="100%",e.boxElement.style.top="")}}},onupdate:function(e){var t=this;mc.size.rollover&&(t.mouseover&&!t.boxElement?(t.boxElement=e.dom.querySelector(".ingredient-box"),t.updateIngredientBox(e.dom)):t.boxElement=null)},view:function(e){var t=this,n=e.attrs.ingredient;return m(mc.ARoute,{className:"ingredient-link "+e.attrs.className,route:"ingredients/"+n.nom,onmouseenter:mc.size.rollover&&t.onMouseEnter,onmouseleave:mc.size.rollover&&t.onMouseLeave},[n.nomTraduit,t.mouseover&&m(mc.IngredientBox,{ingredient:n,className:"shadow floating-box"})])}};