!function(){function n(a){if(n.strings){var e=n.strings[a];return e||(DEBUG?(console.warn("missing key: "+a),n.missingKeys[a]=!0,a):a.split(".").pop())}}function a(e,s){for(var o in e){var g=e[o],i=s?s+"."+o:o;"object"==typeof g?a(g,i):n.strings[i]=g}}window.i18n=n,n.missingKeys={},n.n=function(a,e){return n(0==e?a+".0":1==e?a+".1":a+".n").replace("#",e)},n.strings={},n.language=null,n.loadingLanguage=null,n.allLanguages=["fr","th"],n.setLanguage=function(e){e!=n.language&&(n.allLanguages.indexOf(e)<0?m.route.set("/fr/home"):e!=n.loadingLanguage&&(n.loadingLanguage=e,m.request({method:"GET",url:"i18n/"+e+".json"}).then(function(s){n.strings={},n.language=e,n.loadingLanguage=null,a(s),console.log("loaded strings for",e,n.strings)}).catch(function(a){console.error(a),n.loadingLanguage=null,mc.failed=!0})))},DEBUG&&(n.logMissingKeys=function(){var a={};_.each(n.missingKeys,function(n,e){var s=e,o="",g=e.lastIndexOf(".");g>=0&&(s=e.slice(g+1),o=e.slice(0,g)),a[o]||(a[o]=[]),a[o].push(s)}),_.keys(a).length>0&&(console.warn("Il manque des traductions pour "+n.language+" :"),_.each(a,function(n,a){console.warn('Dans "'+a+'"');var e=[];_.each(n,function(n){e.push('"'+n+'": "'+n+'",')}),console.log(e.join("\n")+"\n")}))})}();